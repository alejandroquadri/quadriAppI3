{"version":3,"sources":["../../src/pages/crm-new-psp/crm-new-psp.module.ts","../../src/pipes/pipes.module.ts","../../src/pages/crm-new-psp/crm-new-psp.ts"],"names":[],"mappings":"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","file":"16.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CrmNewPspPage } from './crm-new-psp';\n\nimport { PipesModule } from '../../pipes/pipes.module';\n\n@NgModule({\n  declarations: [\n    CrmNewPspPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CrmNewPspPage),\n    PipesModule\n  ],\n})\nexport class CrmNewPspPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/crm-new-psp/crm-new-psp.module.ts","import { NgModule } from '@angular/core';\nimport { FilterPipe } from './filter/filter';\nimport { MomentFormatPipe } from './moment-format/moment-format';\nimport { FieldFilterPipe } from './field-filter/field-filter';\nimport { SortPipe } from './sort/sort';\nimport { ObjNgforPipe } from './obj-ngfor/obj-ngfor';\n\n@NgModule({\n  declarations: [\n\t  FilterPipe, \n\t  MomentFormatPipe,\n\t  FieldFilterPipe,\n\t  SortPipe,\n\t  ObjNgforPipe,\n  ],\n  exports: [\n\t  FilterPipe,\n\t  MomentFormatPipe,\n\t  FieldFilterPipe,\n\t  SortPipe,\n\t  ObjNgforPipe,\n  ]\n})\nexport class PipesModule {} \n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController } from 'ionic-angular';\nimport { Observable } from 'rxjs/Observable';\nimport \"rxjs/add/observable/combineLatest\";\n\nimport * as moment from 'moment';\n\nimport { CrmDataProvider, SplitShowProvider } from '../../providers';\nimport { FieldFilterPipe, SortPipe } from '../../pipes';\n\n@IonicPage()\n@Component({\n  selector: 'page-crm-new-psp',\n  templateUrl: 'crm-new-psp.html',\n})\nexport class CrmNewPspPage {\n\n  pspSubs: any;\n  checkedPspSubs: any;\n\n  checkedPspsObj: any;\n  pspObj: any;\n\n  filteredPsp: any;\n  salesRep = \"\";\n  viewArray: any;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public crmData: CrmDataProvider,\n    private splitShow: SplitShowProvider,\n    private fieldFilter: FieldFilterPipe,\n    private sortPipe: SortPipe,\n    public modalCtrl: ModalController,\n  ) {\n  }\n\n  ionViewDidLoad() {\n    this.pspSubs = this.crmData.calipsoObj;\n    this.checkedPspSubs = this.crmData.getCheckedPsp();\n\n    Observable.combineLatest(this.pspSubs, this.checkedPspSubs, (psps: any, checkedPsp: any) => ({psps, checkedPsp}))\n    .subscribe( pair => {\n      this.checkedPspsObj = pair.checkedPsp;\n      this.pspObj = pair.psps.psp;\n      this.filterPsp();\n      this.filterSalesRep(); \n    })\n  }\n\n  filterPsp() {\n    !this.pspObj ? this.pspObj = {} : '' ;\n    let filteredArray = [];\n\n    let psp = Object.keys(this.pspObj);\n    psp.filter( (psp:any) => {\n      return (!this.checkedPspsObj[psp] && (this.pspObj[psp].flag === 'Pronostico' || this.pspObj[psp].flag ==='Pendiente'))\n    })\n    .forEach( psp => {\n      filteredArray.push(this.pspObj[psp]);\n    })\n    this.filteredPsp = this.sortPipe.transform(filteredArray, 'num', false, false);;\n  }\n\n  filterSalesRep() {\n    if(this.salesRep !== \"\") {\n      this.viewArray = this.fieldFilter.transform(this.filteredPsp,['salesRep'],[this.salesRep], false);\n    } else  {\n      this.viewArray = this.filteredPsp;\n    }\n  }\n\n  addOp(psp) {\n    let profileModal = this.modalCtrl.create('CrmOpFormPage', psp);\n    profileModal.present();\n  }\n\n  ignore(psp) {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/crm-new-psp/crm-new-psp.ts"],"sourceRoot":""}