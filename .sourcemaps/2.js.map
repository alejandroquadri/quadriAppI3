{"version":3,"sources":["../../src/pages/crm-dashboard/crm-dashboard.module.ts","../../src/components/chart-draw/chart-draw.ts","../../src/components/chart-draw/chart-draw.module.ts","../../src/components/ac-sales-chart/ac-sales-chart.module.ts","../../src/components/ac-sales-chart/ac-sales-chart.ts","../../src/pages/crm-dashboard/crm-dashboard.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CrmDashboardPage } from './crm-dashboard';\n\nimport { AcSalesChartComponentModule } from '../../components/ac-sales-chart/ac-sales-chart.module';\n\n@NgModule({\n  declarations: [\n    CrmDashboardPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CrmDashboardPage),\n    AcSalesChartComponentModule\n  ],\n})\nexport class CrmDashboardPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/crm-dashboard/crm-dashboard.module.ts","import { Component, Input, Renderer, OnInit, ViewChild } from '@angular/core';\nimport { ChartBuilderProvider } from '../../providers';\n\n@Component({\n  selector: 'chart-draw',\n  template: \n  `\n    <div #container class=\"chart\">\n      <canvas #chart></canvas>\n    </div>\n  `\n})\n\nexport class ChartDrawComponent implements OnInit {\n\n  @Input() width: number;\n  @Input() height: number;\n  @Input() chartType: string;\n  @Input() labels: Array<any>;\n  @Input() datasets: Array<any>;\n  @Input() options: any;\n  @Input() xStacked: boolean = false;\n  @Input() yStacked: boolean = false;\n  @ViewChild('chart') chart;\n  @ViewChild('container') container;\n\n  constructor(\n    private chartBuilder: ChartBuilderProvider,\n    private renderer: Renderer\n  ) {\n  }\n\n  ngOnInit() {\n    let size = new Promise( (resolve, reject) => {\n      this.setSize();\n      resolve();\n    });\n    size.then( () => {\n      this.chartBuilder.buildChart(\n        this.chart.nativeElement, \n        this.chartType, \n        this.labels, \n        this.datasets,\n        this.options\n      );\n    })\n  }\n\n  ngAfterViewChecked() {\n    this.setSize();\n  }\n\n  setHeight() {\n    if (this.height) {\n      console.log(this.height);\n      this.renderer.setElementStyle(this.container.nativeElement, 'position', 'relative');\n      this.renderer.setElementStyle(this.container.nativeElement, 'height', `${this.height}px`);\n      this.renderer.setElementStyle(this.container.nativeElement, 'width', `${this.width}px`);\n    }\n  }\n\n  setSize() {\n    let height;\n    this.renderer.setElementStyle(this.container.nativeElement, 'position', 'relative');\n    this.renderer.setElementStyle(this.container.nativeElement, 'width', `${this.width}px`);\n    if (this.height) {\n      this.height < 80 ? height = 80 : height = this.height;\n    } else {\n      height = this.width / 2;\n    }\n    this.renderer.setElementStyle(this.container.nativeElement, 'height', `${height}px`);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/chart-draw/chart-draw.ts","import { NgModule } from '@angular/core';\nimport { ChartDrawComponent } from './chart-draw';\n\n@NgModule({\n\tdeclarations: [\n    ChartDrawComponent\n  ],\n\timports: [],\n\texports: [\n    ChartDrawComponent\n  ]\n})\nexport class ChartDrawComponentModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/components/chart-draw/chart-draw.module.ts","import { NgModule } from '@angular/core';\nimport { IonicModule } from 'ionic-angular';\n\nimport { AcSalesChartComponent} from './ac-sales-chart';\nimport { ChartDrawComponent } from '../chart-draw/chart-draw';\nimport { ChartDrawComponentModule } from '../chart-draw/chart-draw.module';\n\n@NgModule({\n  declarations: [\n    AcSalesChartComponent,\n  ],\n  imports: [\n    IonicModule,\n    ChartDrawComponentModule\n  ],\n  entryComponents: [\n    ChartDrawComponent,\n  ],\n  exports: [\n    AcSalesChartComponent\n  ]\n})\nexport class AcSalesChartComponentModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/components/ac-sales-chart/ac-sales-chart.module.ts","import { Component, ViewChild, OnInit, ViewContainerRef, ComponentFactoryResolver } from '@angular/core';\nimport { SalesDataProvider, ChartBuilderProvider } from '../../providers';\nimport { map } from 'rxjs/operators';\n\nimport { ChartDrawComponent } from '../chart-draw/chart-draw';\n\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'ac-sales-chart',\n  templateUrl: 'ac-sales-chart.html'\n})\nexport class AcSalesChartComponent implements OnInit {\n\n  salesSubs: any;\n  sales: any;\n  acChart: any;\n  date = moment();\n\n  salesMan = '';\n  eq = 1600000;\n  obj = this.eq * 1.1;\n\n  @ViewChild('salesAcChart', {read: ViewContainerRef}) salesAcChartEl: ViewContainerRef;\n  @ViewChild('chartContainer') chartContainer;\n\n  constructor(\n  \tprivate chartBuilder: ChartBuilderProvider,\n    private salesData: SalesDataProvider,\n    private componentFactoryResolver: ComponentFactoryResolver,\n  ) {\n  }\n\n  ngOnInit() {\n  \tthis.salesSubs = this.salesData.getRevenue()\n  \t.pipe(\n      map( res => res.json())\n     )\n  \t.subscribe( data => {\n  \t\tthis.sales = data.data;\n      this.salesDataFilter();\n  \t});\n  }\n\n  ngAfterViewChecked() {\n    this.setWidth();\n  }\n\n  ngOnDestroy() {\n    this.salesSubs.unsubscribe();\n  }\n\n  addMonth() {\n    this.date = moment(this.date).add(1, 'months')\n    this.salesDataFilter();\n  }\n\n  subMonth() {\n    this.date = moment(this.date).subtract(1, 'months')\n    this.salesDataFilter();\n  }\n\n  salesDataFilter() {\n    if (this.sales) {\n      let labels: Array<any> = [];\n      let finishedSales: Array<any> = [];\n      let finishedQuantity: Array<any> = [];\n      let objLine: Array<any> = [];\n      let eqLine: Array<any> = [];\n      let month = this.date.format('MM/YY');\n      let monthDays = this.date.daysInMonth();\n      let eq = this.eq;\n      let salesObj = this.obj\n      if (this.salesMan !== '') {\n        eq = eq/2;\n        salesObj = salesObj/2\n      }\n      let dailyEqSales = eq / monthDays\n      let dailyObjSales = salesObj / monthDays;\n      let totalSales = 0;\n      let totalQuantity = 0;\n      let totalObjSales = 0;\n      let totalEqSales = 0;\n\n      let filtered = this.sales.filter( sale => {\n        // esto es para que la fecha salga en este formato (2017-11-22), sino se queja y tira una advertencia\n        let ISODate = sale.fecha_documento.replace(/\\//g, \"\");\n        let momentDate = moment(ISODate, \"YYYYMMDD\").format('MM/YY')\n        return (momentDate === month && \n          this.salesManFilter(sale.nombreoriginantetr))\n      })\n\n      let obj = this.chartBuilder.buildSalesObj(filtered);\n\n      for (let i=1, n= monthDays ; i <= n; i++) {\n        let date = this.date.date(i).format('YYYY-MM-DD');\n        labels.push(i);\n        if (obj[date]) {\n          totalSales += obj[date].total;\n          totalQuantity +=obj[date].quantity;\n        }\n        totalObjSales += dailyObjSales;\n        totalEqSales += dailyEqSales;\n        finishedQuantity.push(totalQuantity);\n        finishedSales.push(totalSales);\n        objLine.push(totalObjSales);\n        eqLine.push(totalEqSales);\n      }\n      let datasets = [\n        this.chartBuilder.buildDatasets(finishedSales, 'ventas', 'rgba(0, 128, 0, 1)', 'rgba(0, 128, 0, 0.2)', 'A'), \n        this.chartBuilder.buildDatasets(eqLine, 'equilibrio',  'rgba(220, 57, 18, 1)', 'rgba(220, 57, 18, 0.2)', 'A'), \n        this.chartBuilder.buildDatasets(objLine , 'objetivo', 'rgba(51, 102, 204, 1)', 'rgba(51, 102, 204, 0.2)', 'A'),\n        this.chartBuilder.buildDatasets(finishedQuantity , 'cantidad', 'rgba(255, 153, 0, 1)', 'rgba(255, 153, 0, 0.2)', 'B')\n      ];\n      this.buildAcChart(labels, datasets);\n    }\n    \n  }\n\n  salesManFilter(salesMan) {\n    let result\n    switch (this.salesMan) {\n      case \"Alejandra Roldan\":\n        if (salesMan === 'Alejandra Roldan') {\n          result = true;\n        } else {\n          result = false;\n        }\n      break;\n      case \"Alberto Tarruella\":\n        if (salesMan === 'Tarruella Alberto Horacio ') {\n           result = true;\n        } else {\n          result = false;\n        }\n      break;\n      default:\n        result = true;\n        break;\n    }\n    return result;\n  }\n\n  buildAcChart(labels, datasets) {\n    const childComponent = this.componentFactoryResolver.resolveComponentFactory(ChartDrawComponent);\n    if (this.acChart) { this.acChart.destroy() }\n    this.acChart = this.salesAcChartEl.createComponent(childComponent)\n    this.acChart.instance.width = this.chartContainer.nativeElement.clientWidth;\n    this.acChart.instance.options = this.chartOptions();\n    this.acChart.instance.chartType = 'line';\n    this.acChart.instance.labels = labels;\n    this.acChart.instance.datasets = datasets;\n  }\n\n  chartOptions() {\n    return {\n      responsive: true,\n      maintainAspectRatio: false,\n      scales: {\n        yAxes: [\n          {\n            ticks: {\n              callback: (value, index, values) => this.chartBuilder.formatChartNumber(value, '1.0')\n            },\n            id: 'A',\n            type: 'linear',\n            position: 'left'\n          },\n          {\n            ticks: {\n              callback: (value, index, values) => this.chartBuilder.formatChartNumber(value, '1.0')\n            },\n            id: 'B',\n            type: 'linear',\n            position: 'right'\n          }\n        ]\n      },\n      tooltips: {\n        callbacks: {\n          label: (tooltipItem) => this.chartBuilder.formatChartNumber(tooltipItem.yLabel, '1.0')\n        }\n      }\n    }\n  }\n\n  setWidth() {\n    if (this.acChart) { \n      this.acChart.instance.width = this.chartContainer.nativeElement.clientWidth; \n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ac-sales-chart/ac-sales-chart.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\nimport { SplitShowProvider } from '../../providers';\n\n/**\n * Generated class for the CrmDashboardPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-crm-dashboard',\n  templateUrl: 'crm-dashboard.html',\n})\nexport class CrmDashboardPage {\n\n  constructor(\n  \tpublic navCtrl: NavController,\n  \tpublic navParams: NavParams,\n  \tprivate splitShow: SplitShowProvider) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CrmDashboardPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/crm-dashboard/crm-dashboard.ts"],"sourceRoot":""}