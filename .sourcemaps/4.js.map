{"version":3,"sources":["../../src/pages/spare-parts-form/spare-parts-form.module.ts","../../src/pipes/pipes.module.ts","../../src/pages/spare-parts-form/spare-parts-form.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SparePartsFormPage } from './spare-parts-form';\n\nimport { ElasticModule } from 'angular2-elastic';\nimport { PipesModule } from '../../pipes/pipes.module';\n\n@NgModule({\n  declarations: [\n    SparePartsFormPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SparePartsFormPage),\n    ElasticModule,\n    PipesModule\n  ],\n  exports: [\n    SparePartsFormPage\n  ]\n})\nexport class SparePartsFormPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/spare-parts-form/spare-parts-form.module.ts","import { NgModule } from '@angular/core';\nimport { FilterPipe } from './filter/filter';\nimport { MomentFormatPipe } from './moment-format/moment-format';\nimport { FieldFilterPipe } from './field-filter/field-filter';\nimport { SortPipe } from './sort/sort';\nimport { ObjNgforPipe } from './obj-ngfor/obj-ngfor';\n\n@NgModule({\n  declarations: [\n\t  FilterPipe, \n\t  MomentFormatPipe,\n\t  FieldFilterPipe,\n\t  SortPipe,\n\t  ObjNgforPipe,\n  ],\n  exports: [\n\t  FilterPipe,\n\t  MomentFormatPipe,\n\t  FieldFilterPipe,\n\t  SortPipe,\n\t  ObjNgforPipe,\n  ]\n})\nexport class PipesModule {} \n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Component} from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { IonicPage, NavParams, ViewController, Platform} from 'ionic-angular';\nimport * as firebase from 'firebase';\n\nimport { SparePartsDataProvider, AuthDataProvider, StaticDataProvider } from '../../providers';\n\n@IonicPage()\n@Component({\n  selector: 'page-spare-parts-form',\n  templateUrl: 'spare-parts-form.html',\n})\nexport class SparePartsFormPage {\n\n\tspareForm: FormGroup;\n  submitType: string = 'new';\n  updateForm: any;\n  data: any\n\n  constructor(\n    private fb: FormBuilder,\n    public navParams: NavParams,\n    public platform: Platform,\n    public viewCtrl: ViewController,\n    private spareData: SparePartsDataProvider,\n    private authData: AuthDataProvider,\n    private staticData: StaticDataProvider\n    ) {\n  \tthis.data = this.staticData;\n    this.buildForm();\n  }\n\n  ionViewDidLoad() {\n    if (this.navParams.data.detalle) {\n      this.updateForm = this.navParams.data;\n      this.edit()\n    }\n  }\n\n  ionViewDidEnter() {\n  }\n\n  buildForm() {\n    this.spareForm = this.fb.group({\n      tipo: ['', Validators.required ],\n      detalle: ['', Validators.required],\n      destino: ['', Validators.required],\n      cantidad: ['', Validators.required],\n      unidad: ['', Validators.required],\n      muestra: [false, ],\n      proveedor: ['',],\n      observacion: ['',]\n    });\n  }\n\n  edit() {\n    console.log(this.updateForm);\n  \tthis.submitType = 'edit';\n    let muestra\n    if (this.updateForm.muestra === 'si' ) {\n      muestra = true;\n    } else {\n      muestra = false;\n    }\n  \tthis.spareForm.patchValue({\n      tipo: this.updateForm.tipo,\n      detalle: this.updateForm.detalle,\n      destino: this.updateForm.destino,\n      cantidad: this.updateForm.cantidad,\n      unidad: this.updateForm.unidad,\n      muestra: muestra,\n      proveedor: this.updateForm.proveedor || '',\n      observacion: this.updateForm.observacion || ''\n    })\n  }\n\n  onSubmit() {\n    if (this.submitType === 'new') {\n      this.pushNew();\n    } else {\n      this.update();\n    }\n  }\n\n  update() {\n    let form = this.spareForm.value;\n    if (this.spareForm.value.muestra === true ) {\n      form.muestra = 'si'\n    } else {\n      form.muestra = 'no'\n    }\n    this.spareData.updateSparePart(this.updateForm.$key, form)\n    .then( ret => {\n    })\n    this.viewCtrl.dismiss();\n  }\n\n  pushNew() {\n    let form = this.spareForm.value;\n    form['fecha'] = firebase.database.ServerValue.TIMESTAMP\n    form['status'] = 'Pendiente';\n    form['user'] = {\n      displayName: this.authData.current.displayName,\n      uid: this.authData.current.uid\n    }\n    if (this.spareForm.value.muestra === true ) {\n      form.muestra = 'si'\n    } else {\n      form.muestra = 'no'\n    }\n    this.spareData.pushSparePart(form)\n    .then( ret => {\n      this.spareForm.reset();\n    })\n  }\n\n  toNew() {\n    this.submitType = 'new';\n    this.spareForm.reset();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/spare-parts-form/spare-parts-form.ts"],"sourceRoot":""}