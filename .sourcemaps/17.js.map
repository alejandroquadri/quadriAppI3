{"version":3,"sources":["../../src/pages/machine-log-form/machine-log-form.module.ts","../../src/pipes/pipes.module.ts","../../src/pages/machine-log-form/machine-log-form.ts"],"names":[],"mappings":"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","file":"17.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MachineLogFormPage } from './machine-log-form';\nimport { PipesModule } from '../../pipes/pipes.module';\n\nimport { ElasticModule } from 'angular2-elastic';\n\n@NgModule({\n  declarations: [\n    MachineLogFormPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MachineLogFormPage),\n    ElasticModule,\n    PipesModule\n  ],\n  exports: [\n    MachineLogFormPage\n  ]\n})\nexport class MachineLogFormPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/machine-log-form/machine-log-form.module.ts","import { NgModule } from '@angular/core';\nimport { FilterPipe } from './filter/filter';\nimport { MomentFormatPipe } from './moment-format/moment-format';\nimport { FieldFilterPipe } from './field-filter/field-filter';\nimport { SortPipe } from './sort/sort';\nimport { ObjNgforPipe } from './obj-ngfor/obj-ngfor';\n\n@NgModule({\n  declarations: [\n\t  FilterPipe, \n\t  MomentFormatPipe,\n\t  FieldFilterPipe,\n\t  SortPipe,\n\t  ObjNgforPipe,\n  ],\n  exports: [\n\t  FilterPipe,\n\t  MomentFormatPipe,\n\t  FieldFilterPipe,\n\t  SortPipe,\n\t  ObjNgforPipe,\n  ]\n})\nexport class PipesModule {} \n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Component} from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { IonicPage, NavParams, ViewController, Platform} from 'ionic-angular';\nimport * as firebase from 'firebase';\n\nimport { MachineLogDataProvider, AuthDataProvider, StaticDataProvider } from '../../providers';\n\n@IonicPage()\n@Component({\n  selector: 'page-machine-log-form',\n  templateUrl: 'machine-log-form.html',\n})\nexport class MachineLogFormPage {\n\n\tmachineForm: FormGroup;\n\tsubmitType: string = 'new';\n\tupdateForm: any;\n  machines: any\n\n  constructor(\n  \tprivate fb: FormBuilder,\n    public navParams: NavParams,\n    public platform: Platform,\n    public viewCtrl: ViewController,\n    private machineLogData: MachineLogDataProvider,\n    private authData: AuthDataProvider,\n    private staticData: StaticDataProvider\n    ) \n  {\n  \tthis.buildForm();\n    this.machines = this.staticData.maquinas;\n  }\n\n  ionViewDidLoad() {\n    if (this.navParams.data.date) {\n      this.updateForm = this.navParams.data;\n      this.edit()\n    }\n  }\n\n  buildForm() {\n  \tthis.machineForm = this.fb.group({\n      date: ['', Validators.required ],\n      title: ['', Validators.required],\n      orderNumber: ['', Validators.required],\n      description: ['', Validators.required],\n    });\n  }\n\n  edit() {\n    console.log(this.updateForm);\n  \tthis.submitType = 'edit';\n \n  \tthis.machineForm.patchValue({\n      date: this.updateForm.date,\n      title: this.updateForm.title,\n      orderNumber: this.updateForm.orderNumber,\n      description: this.updateForm.description,\n    })\n  }\n\n\tonSubmit() {\n  \tif (this.submitType === 'new') {\n  \t\tthis.pushNew();\n  \t} else {\n  \t\tthis.update();\n  \t}\n  }\n\n  toNew() {\n  \tthis.submitType = 'new';\n  \tthis.machineForm.reset();\n  }\n\n  pushNew() {\n  \tlet form = this.machineForm.value;\n  \tform['timestamp'] = firebase.database.ServerValue.TIMESTAMP;\n  \tform['user'] = {\n      displayName: this.authData.current.displayName,\n      uid: this.authData.current.uid\n    }\n  \tthis.machineLogData.pushMachineLog(form)\n  \t.then( ret => {\n  \t\tthis.machineForm.reset();\n  \t})\n  }\n\n   update() {\n  \tlet form = this.machineForm.value;\n  \tthis.machineLogData.updateLog(this.updateForm.$key, form)\n  \t.then( ret => {\n  \t\tthis.viewCtrl.dismiss();\n  \t})\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/machine-log-form/machine-log-form.ts"],"sourceRoot":""}