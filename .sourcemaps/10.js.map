{"version":3,"sources":["../../src/pages/diary-prod/diary-prod.module.ts","../../src/pipes/pipes.module.ts","../../src/pages/diary-prod/diary-prod.ts"],"names":[],"mappings":"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","file":"10.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { DiaryProdPage } from './diary-prod';\nimport { PipesModule } from '../../pipes/pipes.module';\n\n@NgModule({\n  declarations: [\n    DiaryProdPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DiaryProdPage),\n    PipesModule,\n  ],\n  exports: [\n    DiaryProdPage\n  ]\n})\nexport class DiaryProdPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/diary-prod/diary-prod.module.ts","import { NgModule } from '@angular/core';\nimport { FilterPipe } from './filter/filter';\nimport { MomentFormatPipe } from './moment-format/moment-format';\nimport { FieldFilterPipe } from './field-filter/field-filter';\nimport { SortPipe } from './sort/sort';\nimport { ObjNgforPipe } from './obj-ngfor/obj-ngfor';\n\n@NgModule({\n  declarations: [\n\t  FilterPipe, \n\t  MomentFormatPipe,\n\t  FieldFilterPipe,\n\t  SortPipe,\n\t  ObjNgforPipe,\n  ],\n  exports: [\n\t  FilterPipe,\n\t  MomentFormatPipe,\n\t  FieldFilterPipe,\n\t  SortPipe,\n\t  ObjNgforPipe,\n  ]\n})\nexport class PipesModule {} \n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Component, ViewChild} from '@angular/core';\nimport { IonicPage, NavParams, ViewController, Platform} from 'ionic-angular';\n\nimport { StaticDataProvider, ProductionDataProvider, SplitShowProvider } from '../../providers';\nimport { FieldFilterPipe } from '../../pipes';\nimport { DecimalPipe } from '@angular/common';\n\n\nimport * as moment from 'moment';\n\n@IonicPage()\n@Component({\n  selector: 'page-diary-prod',\n  templateUrl: 'diary-prod.html',\n})\nexport class DiaryProdPage {\n\n  @ViewChild('prodChart') prodChartEl;\n\t@ViewChild('prodAcChart') prodAcChartEl;\n\n  prodSubs: any;\n\tproduction: any;\n\tdate: string = moment().add(-1, 'days').format('YYYY-MM-DD');\n\tdailyProd: any = {};\n  prodNominal: any;\n\n  constructor(\n  \tpublic navParams: NavParams,\n    public platform: Platform,\n    public viewCtrl: ViewController,\n    private staticData: StaticDataProvider,\n    private prodData: ProductionDataProvider,\n    private splitShow: SplitShowProvider,\n    private fieldFilterPipe: FieldFilterPipe,\n    private number: DecimalPipe\n  ) {\n    this.prodNominal = this.staticData.prodNominal;\n  }\n\n  ionViewDidLoad() {\n  \tthis.prodSubs = this.prodData.getProduction().subscribe( prod => {\n  \t\tthis.production = prod;\n  \t\tthis.dailyProdObj();\n  \t});\n  }\n\n  ionViewWillUnload() {\n    this.prodSubs.unsubscribe();\n  }\n\n  back() {\n    this.date = moment(this.date).add(-1, 'days').format('YYYY-MM-DD');\n    this.prodNominal = this.staticData.prodNominal;\n    this.dailyProdObj();\n  }\n\n  forward() {\n    this.date = moment(this.date).add(1, 'days').format('YYYY-MM-DD');\n    this.prodNominal = this.staticData.prodNominal;\n    this.dailyProdObj();\n  }\n\n  dailyProdObj() {\n  \tconst filteredArray = this.fieldFilterPipe.transform(this.production, ['date'], [this.date], false);\n\t\tlet obj = {};\n\t\tfilteredArray.forEach( item => {\n  \t\tif (!obj[item.machine]) {\n  \t\t\tobj[item.machine] = {\n  \t\t\t\tlogs: [],\n  \t\t\t\ttotal: {}\n  \t\t\t}\n  \t\t\tobj[item.machine]['logs'].push(item);\n  \t\t\tobj[item.machine]['total'] = {\n  \t\t\t\tprod: +item.prod,\n  \t\t\t\trep: +item.rep,\n  \t\t\t\tseg: +item.seg,\n  \t\t\t\tbroken: +item.broken\n  \t\t\t}\n  \t\t} else {\n  \t\t\tobj[item.machine]['logs'].push(item);\n  \t\t\tobj[item.machine]['total'].prod += (+item.prod);\n  \t\t\tobj[item.machine]['total'].rep += (+item.rep);\n  \t\t\tobj[item.machine]['total'].seg += (+item.seg);\n  \t\t\tobj[item.machine]['total'].broken += (+item.broken);\n  \t\t}\n  \t});\n  \tthis.dailyProd = obj;\n  }\n\n  timeDiff(start: string, end: string) {\n\t\treturn moment.duration(moment(end,\"HH:mm:ss\").diff(moment(start,\"HH:mm:ss\")))\n\t\t.asHours();\n  }\n\n  toSalesUnit(units: Array<any>, dim) {\n  \tif(dim) {\n\t\t\tlet eq = this.staticData.equivalences[dim];\n\t  \tlet total: number = 0\n\n\t  \tunits.forEach( item => {\n\t  \t\tlet itemN = +item;\n\t  \t\ttotal += itemN * eq.conv;\n\t  \t})\n      let total2Deacimal = this.number.transform(total, '1.0-2')\n\t  \treturn `${total2Deacimal} ${eq.unit}`;\n  \t}\n  }\n\n  totalSec(rep, seg, broken) {\n  \tlet repN = +rep;\n  \tlet segN = +seg;\n  \tlet brokenN = +broken;\n\n  \treturn repN + segN + brokenN;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/diary-prod/diary-prod.ts"],"sourceRoot":""}