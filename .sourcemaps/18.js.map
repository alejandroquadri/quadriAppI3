{"version":3,"sources":["../../src/pages/avion-form/avion-form.module.ts","../../src/pipes/pipes.module.ts","../../src/pages/avion-form/avion-form.ts","../../src/assets/static-data/avion-static.ts"],"names":[],"mappings":"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","file":"18.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AvionFormPage } from './avion-form';\n\nimport { ElasticModule } from 'angular2-elastic';\nimport { PipesModule } from '../../pipes/pipes.module';\n\n@NgModule({\n  declarations: [\n    AvionFormPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AvionFormPage),\n    ElasticModule,\n    PipesModule\n  ],\n})\nexport class AvionFormPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/avion-form/avion-form.module.ts","import { NgModule } from '@angular/core';\nimport { FilterPipe } from './filter/filter';\nimport { MomentFormatPipe } from './moment-format/moment-format';\nimport { FieldFilterPipe } from './field-filter/field-filter';\nimport { SortPipe } from './sort/sort';\nimport { ObjNgforPipe } from './obj-ngfor/obj-ngfor';\n\n@NgModule({\n  declarations: [\n\t  FilterPipe, \n\t  MomentFormatPipe,\n\t  FieldFilterPipe,\n\t  SortPipe,\n\t  ObjNgforPipe,\n  ],\n  exports: [\n\t  FilterPipe,\n\t  MomentFormatPipe,\n\t  FieldFilterPipe,\n\t  SortPipe,\n\t  ObjNgforPipe,\n  ]\n})\nexport class PipesModule {} \n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { IonicPage, NavParams, ViewController, Platform} from 'ionic-angular';\nimport * as moment from 'moment';\n\nimport { FinanceDataProvider } from '../../providers';\nimport { avionStatic } from '../../assets/static-data/avion-static';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-avion-form',\n  templateUrl: 'avion-form.html',\n})\nexport class AvionFormPage {\n\n  avionForm: FormGroup;\n  submitType: string = 'new';\n  updateForm: any;\n  today = moment();\n  data: any;\n  showSalesForm = false;\n\n  constructor(\n    private fb: FormBuilder,\n    public navParams: NavParams,\n    public platform: Platform,\n    public viewCtrl: ViewController,\n    private fData: FinanceDataProvider\n  ) {\n    this.data = avionStatic\n    this.buildForm();\n  }\n\n  ionViewDidLoad() {\n    if (this.navParams.data.date) {\n      this.updateForm = this.navParams.data;\n      this.edit()\n    }\n  }\n\n  buildForm(type?: string) {\n    this.avionForm = this.fb.group({\n      date: [this.today.format('YYYY-MM-DD'), Validators.required],\n      type: [type || '', Validators.required],\n      amount: ['', Validators.required],\n      account: ['', Validators.required],\n      obs: [''],\n    })\n  }\n  \n  buildFormSales(type?: string) {\n    this.avionForm = this.fb.group({\n      date: [this.today.format('YYYY-MM-DD'), Validators.required],\n      type: [type || '', Validators.required],\n      amount: ['', Validators.required],\n      account: ['', Validators.required],\n      obs: [''],\n      np: ['', Validators.required],\n      salesRep: ['', Validators.required],\n      client: ['', Validators.required]\n    })\n  }\n\n  onSubmit() {\n    if (this.submitType === 'new') {\n      this.pushNew();\n    } else {\n      this.update();\n    }\n  }\n\n  pushNew() {\n    this.fData.pushRecord(this.avionForm.value);\n    this.avionForm.reset();\n  }\n\n  update() {\n    this.fData.updateRecord(this.avionForm.value, this.updateForm.$key)\n    .then( () => this.viewCtrl.dismiss()); \n  }\n  \n  typeChange() {\n    if (this.avionForm.value.type === 'Ingreso') {\n      this.buildFormSales('Ingreso');\n      this.showSalesForm = true;\n    } else {\n      this.showSalesForm = false;\n      this.buildForm('Egreso');\n    }\n  }\n\n  edit() {\n    this.submitType = 'edit';\n\n    if (this.updateForm.type === 'Ingreso') {\n      this.buildFormSales('Ingreso');\n      this.showSalesForm = true;\n    }\n\n    this.avionForm.patchValue({\n      date: this.updateForm.date,\n      type: this.updateForm.type,\n      amount: this.updateForm.amount,\n      account: this.updateForm.account,\n      obs: this.updateForm.obs,\n    })\n    \n    if(this.updateForm.type === 'Ingreso') {\n      this.avionForm.patchValue({\n        np: this.updateForm.np,\n        salesRep: this.updateForm.salesRep,\n        client: this.updateForm.client\n      })\n    }\n  }\n\n  toNew() {\n    this.submitType = 'new';\n    this.avionForm.reset();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/avion-form/avion-form.ts","export const avionStatic = {\n  type: ['Ingreso', 'Egreso'],\n  account: {\n    Ingreso: [ 'Venta' ],\n    Egreso: [\n      'Basureros',\n      'Comisiones',\n      'Gastos de Venta',\n      'Horas Extra',\n      'Insumos fabrica',\n      'Mantenimiento',\n      'Premios',\n      'Viaticos',\n      'Fletes'\n    ]\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/static-data/avion-static.ts"],"sourceRoot":""}