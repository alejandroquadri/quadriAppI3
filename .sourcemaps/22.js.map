{"version":3,"sources":["../../src/pages/crm-send-psp/crm-send-psp.module.ts","../../src/pipes/pipes.module.ts","../../src/pages/crm-send-psp/crm-send-psp.ts"],"names":[],"mappings":"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","file":"22.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CrmSendPspPage } from './crm-send-psp';\n\nimport { PipesModule } from '../../pipes/pipes.module';\nimport { ElasticModule } from 'angular2-elastic';\n\n@NgModule({\n  declarations: [\n    CrmSendPspPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CrmSendPspPage),\n    PipesModule,\n    ElasticModule\n  ],\n})\nexport class CrmSendPspPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/crm-send-psp/crm-send-psp.module.ts","import { NgModule } from '@angular/core';\nimport { FilterPipe } from './filter/filter';\nimport { MomentFormatPipe } from './moment-format/moment-format';\nimport { FieldFilterPipe } from './field-filter/field-filter';\nimport { SortPipe } from './sort/sort';\nimport { ObjNgforPipe } from './obj-ngfor/obj-ngfor';\nimport { CustomCurrencyPipe } from './custom-currency/custom-currency';\n\n@NgModule({\n  declarations: [\n\t  FilterPipe, \n\t  MomentFormatPipe,\n\t  FieldFilterPipe,\n\t  SortPipe,\n\t  ObjNgforPipe,\n    CustomCurrencyPipe,\n  ],\n  exports: [\n\t  FilterPipe,\n\t  MomentFormatPipe,\n\t  FieldFilterPipe,\n\t  SortPipe,\n\t  ObjNgforPipe,\n    CustomCurrencyPipe,\n  ]\n})\nexport class PipesModule {} \n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { FormBuilder, Validators, FormGroup } from '@angular/forms';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { CrmDataProvider, AuthDataProvider } from '../../providers';\n\nimport { map } from 'rxjs/operators';\nimport 'rxjs/add/operator/toPromise';\n\n@IonicPage()\n@Component({\n  selector: 'page-crm-send-psp',\n  templateUrl: 'crm-send-psp.html',\n})\nexport class CrmSendPspPage {\n\n  emailForm: FormGroup;\n  psp: any;\n  currentEmail: string\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public viewCtrl: ViewController,\n    private fb: FormBuilder,\n    private crmData: CrmDataProvider,\n    private authData: AuthDataProvider\n  ) {\n    this.buildForm();\n    this.currentEmail = this.authData.current.email;\n    console.log(this.currentEmail);\n  }\n\n  ionViewDidLoad() {\n    console.log(this.navParams.data);\n    this.psp = this.navParams.data;\n  }\n\n  buildForm() {\n    this.emailForm = this.fb.group({\n      to: ['', [Validators.required, Validators.email]],\n      cc: [''],\n      obs: ['']\n    })\n  }\n\n  onSubmit() {\n    console.log(this.emailForm.value);\n    let form = this.emailForm.value;\n    form['date'] = this.psp.date;\n    form['number'] = this.psp.num;\n    form['razSoc'] = this.psp.razSoc;\n    form['salesRep'] = this.psp.salesRep;\n    form['total'] = this.psp.total;\n    form['items'] = this.psp.items;\n    form['currentEmail'] = this.currentEmail;\n    console.log(form);\n    // this.crmData.printPsp(form)\n    // .then( () => {\n    //   this.viewCtrl.dismiss('dismiss');\n    // })\n    let stringForm = JSON.stringify(form);\n    console.log(form, stringForm);\n    this.crmData.postPsp(form)\n    .pipe( \n      map( res => res.json())\n    )\n    .toPromise()\n    .then( () => {\n      console.log('volvio');\n      this.viewCtrl.dismiss('dismiss');\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/crm-send-psp/crm-send-psp.ts"],"sourceRoot":""}