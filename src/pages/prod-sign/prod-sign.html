<ion-header>

  <ion-navbar>
    <ion-buttons left>
        <split-ctrl></split-ctrl>
    </ion-buttons>
		<ion-title>
			Resumen mensual produccion
		</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

	<ion-grid>
		<ion-row class="titleRow" align-items-center>
			<ion-item>
				<h1>Resumen produccion {{ date.format('MMMM YYYY') }}</h1>
				<button item-end ion-button icon-only outline small (click)= "subMonth()" class="arrow">
					<ion-icon name="ios-arrow-back"></ion-icon>
				</button>
				<button item-end ion-button icon-only outline small (click)= "addMonth()" class="arrow">
					<ion-icon name="ios-arrow-forward"></ion-icon>
				</button>
			</ion-item>
		</ion-row>
		
		<div class="datos">
			<ion-row>
				<ion-col>
					<h6>m2 fabricados en el mes</h6>
				</ion-col>
				<ion-col pull-1>
					<h2>{{ m2total | number: '1.0-0'}}</h2>
				</ion-col>
			</ion-row>
			<ion-row>
				<ion-col>
					<h6>ml fabricados en el mes</h6>
				</ion-col>
				<ion-col pull-1>
					<h2>{{ mltotal | number: '1.0-0'}}</h2>
				</ion-col>
			</ion-row>
			<ion-row>
				<ion-col>
					<h6>m2 restantes para alcanzar premio</h6>
				</ion-col>
				<ion-col pull-1>
					<h2>{{ (5000 - m2total > 0 ? 5000 - m2total: 0) | number: '1.0-0' }}</h2>
				</ion-col>
			</ion-row>
			<ion-row>
				<ion-col>
					<h6>Premio grupal a hoy</h6>
				</ion-col>
				<ion-col pull-1>
					<h2>{{ premio() | number: '1.0-0' }}</h2>
				</ion-col>
			</ion-row>
		</div>
		

		<ion-row *ngIf="prodObj">

			<ion-col col-6>
				<ion-list>
					<ion-item class="itemTitle" no-lines>
						<h2>Metros 2</h2>
					</ion-item>
					<div *ngFor="let date of prodObj | objNgfor">
						<ion-item *ngIf="prodObj[date].m2 !==0" class="item">
							<ion-label>
								{{ date }}
							</ion-label>
							<div item-content>{{ prodObj[date].m2 | number: '1.0-0' }}</div>
						</ion-item>
					</div>
						
				</ion-list>
			</ion-col>

			<ion-col col-6>
				<ion-list>
					<ion-item class="itemTitle" no-lines>
						<h2>Metros lineales</h2>
					</ion-item>
					<div *ngFor="let date of prodObj | objNgfor" >
						<ion-item *ngIf="prodObj[date].ml !==0" class="item">
							<ion-label>
								{{ date }}
							</ion-label>
							<div item-content>{{ prodObj[date].ml | number: '1.0-0' }}</div>
						</ion-item>
					</div>
				</ion-list>
			</ion-col>
		
		</ion-row>
	
	</ion-grid>

</ion-content>
