<!--
  Generated template for the ProdProgramPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
	  <button ion-button menuToggle *ngIf="splitShow.showMenuToggle()">
	    <ion-icon name="menu"></ion-icon>
	  </button>
    <ion-buttons left>
	    <button ion-button icon-only small (click)="splitShow.showChange()" *ngIf="!splitShow.show && !splitShow.showMenuToggle()">
	      <ion-icon name="ios-menu"></ion-icon>
	    </button>
	  </ion-buttons>
    <ion-title>Programa de produccion</ion-title>
    <ion-buttons end>
	    <button ion-button icon-only small (click)="showForm = !showForm">
				<ion-icon name="add"></ion-icon>
	    </button>
	    <button ion-button icon-only small (click)="showEntregas = !showEntregas">
				<ion-icon name="paper-plane"></ion-icon>
	    </button>
	  </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>

	<ion-grid>
		<ion-row no-padding style="height: 100%;">

			<ion-col class="container" no-padding *ngIf="program">
				<ion-row *ngIf="showForm">
					prueba para carga de programa
				</ion-row>
				<ion-row align-items-center class="monthTitle" no-padding>
					<ion-col col-1 text-center no-padding>
						<button ion-button clear icon-only small color="light" (click)="previous()"><ion-icon name="ios-arrow-back"></ion-icon></button>
					</ion-col>
					<ion-col col-10 text-center no-padding>
						{{ selected.format('MMMM') }} {{ selected.format('YYYY') }}
					</ion-col>
					<ion-col col-1 text-center no-padding>
						<button ion-button clear icon-only small color="light" (click)="next()"><ion-icon name="ios-arrow-forward"></ion-icon></button>
					</ion-col>
				</ion-row>
				<ion-row align-items-center class="daysTitle"> 
					<ion-col text-center>Dom</ion-col>
					<ion-col text-center>Lun</ion-col>
					<ion-col text-center>Mar</ion-col>
					<ion-col text-center>Mier</ion-col>
					<ion-col text-center>Jue</ion-col>
					<ion-col text-center>Vier</ion-col>
					<ion-col text-center>Sab</ion-col>
				</ion-row>
				<ion-row *ngFor="let week of weeks" class="week">
					<ion-col *ngFor="let day of week.days" class="day">
						<span class="fecha">{{ day.number }}</span>
						<div *ngIf="program[day.date.format('YYYYMMDD')]">
							<div *ngFor="let mach of program[day.date.format('YYYYMMDD')] | objNgfor" class="item">
								<div><span [ngClass]="machClass(mach)" class="machine">{{ mach }}:&nbsp;</span></div>
								<div *ngFor="let art of program[day.date.format('YYYYMMDD')][mach] | objNgfor" class="article">
									{{ program[day.date.format('YYYYMMDD')][mach][art].codigo }}
									<span *ngIf="program[day.date.format('YYYYMMDD')][mach][art].valor">-</span> 
									{{ program[day.date.format('YYYYMMDD')][mach][art].valor }}&nbsp;
									{{ program[day.date.format('YYYYMMDD')][mach][art].unidad}}
									<span *ngIf="program[day.date.format('YYYYMMDD')][mach][art].observacion">-</span>
									{{ program[day.date.format('YYYYMMDD')][mach][art].observacion }}
								</div>
							</div>						
						</div>
					</ion-col>
				</ion-row>
			</ion-col>
		
			<ion-col col-3 *ngIf="showEntregas">
				{{ program | json }}
			</ion-col>

		</ion-row>
	</ion-grid>

</ion-content>
